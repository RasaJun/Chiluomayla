<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>起落沒啦玩家資料查詢系統</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
    }
    .container {
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #f9f9f9;
    }
</style>
</head>
<body>
<div class="container">
    <h1>起落沒啦玩家資料查詢系統</h1>
    <h2>(最後更新於 24/7/2024 20:11:00)</h2>
    <h3>請輸入自己的玩家ID，如果不輸入完整，則會出相似度最高的玩家給你</h3>
    <label for="userId">輸入您的ID：</label>
    <input type="text" id="userId">
    <button onclick="searchData()">查詢</button>
    <div id="result"></div>
    <p></p>
    <a href="https://discord.com/invite/uH8yYBya4k">加入我們的 Discord 群組 (回報：資料錯誤/沒有資料等等問題)</a>
    <p> [此查詢系統是由 Prezakka 製作]</p>
    <p>All Copyright Reserved 2024  Copyright © Prezakka 2024</p>
</div>

<script>
function searchData() {
    var userId = document.getElementById("userId").value;

    var data = [
        { name: "Karby Pei", second: 405, coin: 0, island: 3200 },{ name: "kikiho0131", second: 340, coin: 0, island: 1700 },{ name: "SaraNatalia0512", second: 135, coin: 0, island: undefined },{ name: "RosiestJungle28", second: 276, coin: 0, island: 1800 },{ name: "ScareArtyrPro", second: 371, coin: 0, island: 2400 },{ name: "Karl1116karl", second: 688, coin: 0, island: undefined },{ name: "xOToby0909Ox", second: 75, coin: 0, island: 4600 },{ name: "Sydorovich", second: 541, coin: 0, island: 2600 },{ name: "SleepCat5244", second: 2, coin: 0, island: undefined },{ name: "skyy9955", second: 1930, coin: 5250, island: 2100 },{ name: "fklmcv0000", second: 282, coin: 0, island: undefined },{ name: "Akmal2658", second: 36, coin: 0, island: undefined },{ name: "Wingingwind8122", second: 31, coin: 0, island: undefined },{ name: "SigmoidTooth229", second: 4227, coin: 11129, island: 7700 },{ name: "tomas5551438", second: 723, coin: 0, island: 5200 },{ name: "blueberry oc", second: 4533, coin: 16383, island: 7100 },{ name: "SEVILLE", second: 366, coin: 0, island: undefined },{ name: "FS YnTW", second: 401, coin: 0, island: 3000 },{ name: "Yiska 12345", second: 277, coin: 0, island: 4000 },{ name: "Aker0276", second: 305, coin: 0, island: 2900 },{ name: "Milk20028097", second: 433, coin: 0, island: 3400 },{ name: "uytr097", second: 199, coin: 0, island: 6100 },{ name: "rnttx", second: 459, coin: 1, island: undefined },{ name: "L1ech", second: 243, coin: 0, island: 2300 },{ name: "Dragon cannon77", second: 168, coin: 0, island: 5900 },{ name: "BSF star1288", second: 789, coin: 50, island: 4900 },{ name: "Micky0831", second: 2551, coin: 0, island: 4800 },{ name: "Uoptle8787", second: 776, coin: 0, island: 3100 },{ name: "AlexYeh0813", second: 18, coin: 0, island: undefined },{ name: "SilverDeer6709", second: 32, coin: 0, island: undefined },{ name: "Jasoneshed", second: 101, coin: 0, island: undefined },{ name: "Richlucy1024", second: 511, coin: 0, island: 6000 },{ name: "apple pie4225", second: 19, coin: 0, island: undefined },{ name: "Ookoukioo8929", second: 65, coin: 0, island: 3800 },{ name: "William971209", second: 17, coin: 0, island: undefined },{ name: "Dream SLXSLX", second: 48, coin: 0, island: 4200 },{ name: "POPOL3985", second: 79, coin: 0, island: 7800 },{ name: "bebe0602", second: 71, coin: 0, island: 4300 },{ name: "panzer51187", second: 47, coin: 0, island: undefined },{ name: "HiStephenGoh08", second: 39, coin: 0, island: undefined },{ name: "rilednarphfo", second: 688, coin: 0, island: 2700 },{ name: "Xx samhuang xX", second: 66, coin: 0, island: undefined },{ name: "Bearycareful", second: 162, coin: 0, island: undefined },{ name: "young932262", second: 176, coin: 0, island: 6800 },{ name: "Whirlwind4334", second: 11, coin: 0, island: undefined },{ name: "ChangingRat4513", second: 2586, coin: 0, island: 5100 },{ name: "MISTER IQ YT", second: 65, coin: 0, island: undefined },{ name: "blue670117", second: 583, coin: 0, island: 3700 },{ name: "skyrushhello", second: 329, coin: 0, island: undefined },{ name: "あそぼみんなで", second: 375, coin: 0, island: undefined },{ name: "JaJaMoChiang", second: 66, coin: 0, island: undefined },{ name: "GoldenM02", second: 172, coin: 0, island: undefined },{ name: "soso418284", second: 214, coin: 0, island: 8200 },{ name: "SteelJoker22648", second: 2604, coin: 0, island: undefined },{ name: "YT CreeperMaple", second: 743, coin: 0, island: 5400 },{ name: "TsaoMason", second: 92, coin: 0, island: undefined },{ name: "fayad0522", second: 346, coin: 0, island: 6300 },{ name: "Auq42956", second: 47, coin: 0, island: 5700 },{ name: "reeey5087", second: 69, coin: 0, island: 5800 },{ name: "texipencil66", second: 852, coin: 4590, island: 8800 },{ name: "Hi mymaneian", second: 402, coin: 0, island: 5600 },{ name: "Owen OKHM", second: 2927, coin: 11968, island: 5300 },{ name: "kongbai9487", second: 346, coin: 0, island: 6500 },{ name: "YT PVP LEOtw", second: 136, coin: 0, island: 6700 },{ name: "Jun2601", second: 2527, coin: 0, island: 5500 },{ name: "MinecraftXZS", second: 94, coin: 0, island: undefined },{ name: "StuckElk959", second: 7411, coin: 0, island: 2200 },{ name: "MachiKwok", second: 1316, coin: 1, island: 2800 },{ name: "RossDD1108x", second: 28, coin: 0, island: undefined },{ name: "TungSinLai", second: 2458, coin: 3426, island: 6200 },{ name: "Panda 82175370", second: 5772, coin: 26792, island: 5000 },{ name: "Sbortb10126", second: 299, coin: 0, island: 6900 },{ name: "hlps107255", second: 7, coin: 0, island: undefined },{ name: "reeeey5067", second: 440, coin: 0, island: 7300 },{ name: "impotato2024", second: 181, coin: 0, island: undefined },{ name: "I am304304", second: 557, coin: 64, island: 7400 },{ name: "ActiveVeil46028", second: 364, coin: 0, island: 7500 },{ name: "KAISTAR9654", second: 133, coin: 0, island: undefined },{ name: "taichi27516", second: 1182, coin: 0, island: 7200 },{ name: "akoako0716", second: 32, coin: 0, island: undefined },{ name: "Angela", second: 1271, coin: 40, island: undefined },{ name: "Supernoobouo", second: 33, coin: 0, island: undefined },{ name: "Mnn1122", second: 2614, coin: 0, island: 6600 },{ name: "Dreams2886", second: 31, coin: 0, island: undefined },{ name: "ChenXi643242", second: 2201, coin: 357, island: 7600 },{ name: "StarlessJacky", second: 79896, coin: 81421000, island: 1500 },{ name: "tiffany119911", second: 6513, coin: 27299, island: 6400 },{ name: "HarryChang0620", second: 323, coin: 500, island: undefined },{ name: "andrew1116XD", second: 27, coin: 0, island: undefined },{ name: "TwofacedMouse89", second: 176, coin: 0, island: undefined },{ name: "Sanyao99710", second: 1002, coin: 0, island: 7900 },{ name: "RETSAG1128", second: 6, coin: 0, island: undefined },{ name: "QB948700", second: 241, coin: 0, island: undefined },{ name: "Vivian0806", second: 234, coin: 0, island: 4500 },{ name: "ProvokedWeb9619", second: 90, coin: 0, island: undefined },{ name: "HK tinyau", second: 373, coin: 0, island: 8100 },{ name: "imSUS2024", second: 173, coin: 0, island: 8300 },{ name: "Kiki2239300", second: 85, coin: 0, island: 8400 },{ name: "Chipi chipi8766", second: 189, coin: 0, island: undefined },{ name: "xMazz uwu", second: 54020, coin: 329194, island: 1600 },{ name: "olxouoxlo", second: 9166, coin: 5000, island: 4700 },{ name: "WombedSauce3240", second: 160, coin: 0, island: 8500 },{ name: "JuicedTea108728", second: 83, coin: 0, island: 8600 },{ name: "DARK197414tw", second: 504, coin: 0, island: 2400 },{ name: "AdvisedMars7687", second: 292, coin: 0, island: 3600 },{ name: "x dylan x5259", second: 7848, coin: 18868, island: 3500 },{ name: "George17833481", second: 507, coin: 0, island: 8700 },{ name: "TinniestPrism59", second: 1652, coin: 2200, island: 8000 },{ name: "btf0729 tw", second: 875, coin: 1500, island: 8400 },{ name: "kevin2020ting", second: 10726, coin: 70217, island: 2000 },{ name: "creeper god7705", second: 79, coin: 0, island: 9100 },{ name: "jasonfly2335", second: 252, coin: 0, island: 4100 },{ name: "PeakGoat281071", second: 13, coin: 0, island: undefined },{ name: "ShortFlower8682", second: 1937, coin: 53, island: 4400 },{ name: "annn345", second: 48, coin: 0, island: undefined },{ name: "gomspi", second: 557, coin: 531, island: 8900 },{ name: "Ryan cubeMIT", second: 53, coin: 0, island: undefined },{ name: "simonkongHei", second: 10749, coin: 22493, island: 3900 },{ name: "kai101412", second: 11, coin: 0, island: undefined },{ name: "OwnGood Leo", second: 14585, coin: 131200, island: 3300 },{ name: "ZackQWQ", second: 46, coin: 0, island: undefined },{ name: "Fish990506", second: 10, coin: 0, island: undefined },{ name: "xSpqcye", second: 6, coin: 0, island: undefined },{ name: "Osbvs", second: 391, coin: 0, island: 9200 },{ name: "cyrek369106", second: 50, coin: 0, island: undefined },{ name: "HaltingCrayon79", second: 20949, coin: 294418, island: 1900 },{ name: "a22112211212", second: 974, coin: 0, island: 7000 },{ name: "XingheJoyen", second: 2352, coin: 0, island: 9000 }

    ];

    var minDistance = Infinity;
    var mostSimilarUser = null;

    data.forEach(function(user) {
        var distance = levenshteinDistance(userId.toLowerCase(), user.name.toLowerCase());
        if (distance < minDistance) {
            minDistance = distance;
            mostSimilarUser = user;
        }
    });

    showResult(mostSimilarUser);
}

function levenshteinDistance(a, b) {
    if (a.length === 0) return b.length;
    if (b.length === 0) return a.length;

    var matrix = [];

    for (var i = 0; i <= b.length; i++) {
        matrix[i] = [i];
    }

    for (var j = 0; j <= a.length; j++) {
        matrix[0][j] = j;
    }

    for (var i = 1; i <= b.length; i++) {
        for (var j = 1; j <= a.length; j++) {
            if (b.charAt(i - 1) === a.charAt(j - 1)) {
                matrix[i][j] = matrix[i - 1][j - 1];
            } else {
                matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, // substitution
                                       Math.min(matrix[i][j - 1] + 1, // insertion
                                                matrix[i - 1][j] + 1)); // deletion
            }
        }
    }

    return matrix[b.length][a.length];
}

function convertHMS(value) {
  const sec = parseInt(value, 10); // convert value to number if it's string
  let hours = Math.floor(sec / 3600); // get hours
  let minutes = Math.floor((sec - hours * 3600) / 60); // get minutes
  let seconds = sec - hours * 3600 - minutes * 60; //  get seconds
  // add 0 if value < 10; Example: 2 => 02
  if (hours < 10) {
    hours = "0" + hours;
  }
  if (minutes < 10) {
    minutes = "0" + minutes;
  }
  if (seconds < 10) {
    seconds = "0" + seconds;
  }
  return hours + ":" + minutes + ":" + seconds; // Return is HH : MM : SS
}

function showResult(user) {
    var resultDiv = document.getElementById("result");
    resultDiv.innerHTML = `
        <h3>查詢成功！</h3>
        <p>姓名：${user.name}</p>
        <p>你的金錢： $${user.coin.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</p>
        <p>遊玩時間： ${convertHMS(user.second)} (${user.second} 秒)</p>
        <p>島嶼編號： ${user.island}</p>
    `;
}
</script>
</body>
</html>